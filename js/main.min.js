function parseSendInBlueSignupError(a,b){return msg="","invalidEmail"==a?msg="Invalid email address. Please try again.":"emailExist"==a?msg=b+" is already subscribed.":msg="There was an error subscribing this address. Please try again later.",msg}function startAnimation(a){a.dataset.preloaded&&(newSrc=a.src.substr(0,a.src.indexOf(".gif"))+"-anim.gif",a.src=newSrc)}function stopAnimation(a){a.dataset.preloaded&&a.src.indexOf("-anim.gif")>-1&&(newSrc=a.src.substr(0,a.src.indexOf("-anim.gif"))+".gif",a.src=newSrc)}$(document).ready(function(a){$("img[usemap]").rwdImageMaps(),$(".js-anim").on("mouseenter",function(a){startAnimation($("#"+this.dataset.target)[0])}),$(".js-anim").on("mouseleave",function(a){stopAnimation($("#"+this.dataset.target)[0])}),$(".js-citymap").on("mouseenter",function(){$(".city-nav").addClass("active"),$(".city-nav__link").removeClass("active"),$(".city-nav__"+this.dataset.link).addClass("active"),$(this).hasClass("current")||$(this).parent().hasClass("current")||startAnimation($(".city-nav__"+this.dataset.link+" .city-nav__img")[0])}),$(".js-citymap").on("mouseleave",function(){$(".city-nav").removeClass("active"),$(".city-nav__"+this.dataset.link).removeClass("active"),$(this).hasClass("current")||$(this).parent().hasClass("current")||stopAnimation($(".city-nav__"+this.dataset.link+" .city-nav__img")[0])}),$(".menu-bar").on("mouseenter",function(){$(this).addClass("hover")}),$(".menu-bar").on("mouseleave",function(){$(this).removeClass("hover")}),citynavOffset=$(".city-nav").offset(),$(".menu-bar").headroom({offset:citynavOffset.top+$(".city-nav").height()*(1/3),tolerance:0,classes:{top:"menu-bar--disabled",notTop:"menu-bar--enabled"}}),$("a[href=#top]").on("click",function(a){$("html, body").animate({scrollTop:0},"slow"),a.preventDefault()}),$("#mail-list-signup").submit(function(a){a.preventDefault(),$(this).closest(".result").removeClass("error").removeClass("success").html('<i class="sprite  sprite--loading"></i>'),$.ajax({type:"POST",url:$(this).attr("action"),data:$(this).serialize(),cache:!1,dataType:"json",error:function(a){msg=parseSendInBlueSignupError(a.result.result,$("#mail-list-signup .email").val()),$("#mail-list-signup .result").addClass("error"),$("#mail-list-signup .result").html(msg)},success:function(a){"success"==a.result.result?($("#mail-list-signup .result").removeClass("error").addClass("success"),$("#mail-list-signup .result").html("Almost finished...<br>Please check your inbox for a link to confirm your address.")):(msg=parseSendInBlueSignupError(a.result.result,$("#mail-list-signup .email").val()),$("#mail-list-signup .result").removeClass("success").addClass("error"),$("#mail-list-signup .result").html(msg))}})}),$(document).on("opening",".js-mail-list-signup",function(){$("#mail-list-signup .result").removeClass("success").removeClass("error").html(""),$("#mail-list-signup .email").val("").focus()}),$(".js-share-this").on("click",function(a){a.preventDefault(),$(this).toggleClass("active")});var b=$(".js-shows").imagesLoaded(function(){b.isotope({itemSelector:".grid__item",layoutMode:"masonry"})});$("[data-share]").on("click",function(a){a.preventDefault(),url=$(this).attr("href"),window.open(url,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600")})});